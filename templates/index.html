<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-i18n="title">File Converter Tool</title>
  <link rel="stylesheet" href="/static/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Add Font Awesome for better icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <h1 data-i18n="title">üöÄ File Converter Tool</h1>

    <!-- Language Switcher and Dark Mode Bottom Left -->
    <div style="position: fixed; bottom: 20px; left: 20px; display: flex; gap: 15px; align-items: center; z-index: 1000;">
      <div style="background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); padding: 10px 15px; border-radius: 50px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);">
        <label for="languageSelect" data-i18n="language_label" style="color: #4a5568; font-size: 0.9rem; margin: 0; margin-bottom: 5px; display: block;">üåê Language</label>
        <select id="languageSelect" style="width: auto; margin: 0; padding: 5px 10px; font-size: 0.9rem; min-width: 100px;"></select>
      </div>
      <button id="darkModeToggle" class="dark-mode-toggle" title="Toggle Dark Mode">
        <i class="fas fa-moon"></i>
      </button>
    </div>

    <!-- Step 1: File Upload -->
    <div class="step-section active" id="step-1">
      <h2 class="step-title" data-i18n="select_files">üìÅ Select Files</h2>
      
      <!-- Enhanced File Upload Area -->
      <div class="upload-area">
        <input type="file" id="inputFiles" name="inputFiles" multiple />
        <div class="upload-placeholder" id="uploadPlaceholder">
          <div class="upload-icon">
            <i class="fas fa-cloud-upload-alt"></i>
          </div>
          <h3 data-i18n="drag_drop">Drag & drop files here</h3>
          <p data-i18n="or_click">or click to browse</p>
          <div class="supported-formats">
            <span data-i18n="supported">Supported:</span>
            <div class="format-badges">
              <span class="badge">PDF</span>
              <span class="badge">DOCX</span>
              <span class="badge">PPTX</span>
              <span class="badge">JPG</span>
              <span class="badge">PNG</span>
              <span class="badge">+more</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- File Preview with Enhanced Design -->
      <div class="file-preview" id="filePreview" style="display: none;">
        <div class="preview-header">
          <h3><i class="fas fa-file-alt"></i> <span data-i18n="selected_files">Selected Files</span></h3>
          <button type="button" id="clearAll" class="clear-all-btn">
            <i class="fas fa-trash"></i> <span data-i18n="clear_all">Clear All</span>
          </button>
        </div>
        <div id="fileList" class="file-list">
          <!-- Files will be dynamically added here -->
        </div>
        <div class="files-summary">
          <span id="fileCount">0</span> <span data-i18n="files_selected">files selected</span>
          | <span data-i18n="total_size">Total size:</span> <span id="totalSize">0 KB</span>
        </div>
      </div>

      <div id="pdfToolsContainer" style="display: none; margin-top: 20px;">
        <h3><i class="fas fa-file-pdf"></i> <span data-i18n="pdf_tools">PDF Tools</span></h3>
        <div class="pdf-tools-grid">
          <div id="mergeOptionContainer" class="pdf-tool-card">
            <label>
              <input type="checkbox" id="mergeOption" />
              <div class="tool-icon"><i class="fas fa-layer-group"></i></div>
              <span data-i18n="merge_option">Merge PDFs into one file</span>
            </label>
          </div>
          <div id="splitOptionContainer" class="pdf-tool-card">
            <label>
              <input type="checkbox" id="splitOption" />
              <div class="tool-icon"><i class="fas fa-cut"></i></div>
              <span data-i18n="split_option">Split PDF into multiple files</span>
            </label>
          </div>
          <div id="deletePagesContainer" class="pdf-tool-card full-width">
            <label for="deletePagesInput" class="delete-pages-label">
              <i class="fas fa-trash-alt"></i> <span data-i18n="delete_pages_label">Delete pages (e.g., 1,3-5):</span>
            </label>
            <input type="text" id="deletePagesInput" placeholder="1,3-5" class="delete-pages-input" />
          </div>
        </div>
      </div>

      <div class="step-buttons">
        <button id="nextStep1" data-i18n="next" disabled>
          <span data-i18n="next">Next</span> <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </div>

    <!-- Step 2: Format Options -->
    <div class="step-section" id="step-2">
      <h2 class="step-title"><i class="fas fa-exchange-alt"></i> <span data-i18n="choose_format">Choose Output Format</span></h2>
      <div class="format-selection-info">
        <p data-i18n="format_info">Select one or more output formats for your files</p>
      </div>
      <div id="formatOptions" class="format-options">
        <!-- Dynamic checkboxes will be added here -->
      </div>

      <div class="step-buttons">
        <button id="prevStep2" data-i18n="back">
          <i class="fas fa-arrow-left"></i> <span data-i18n="back">Back</span>
        </button>
        <button id="nextStep2" data-i18n="next">
          <span data-i18n="next">Next</span> <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </div>

    <!-- Step 3: Summary -->
    <div class="step-section" id="step-3">
      <h2 class="step-title"><i class="fas fa-clipboard-check"></i> <span data-i18n="summary">Summary</span></h2>
      <div id="summary-box">
        <div class="summary-header">
          <h4><i class="fas fa-info-circle"></i> <span data-i18n="conversion_preview">Conversion Preview</span></h4>
        </div>
        <div id="summaryContent" class="summary-content">
          <div class="summary-section">
            <h5><i class="fas fa-file"></i> <span data-i18n="files">Files</span></h5>
            <div id="summaryFiles" class="summary-files"></div>
          </div>
          <div class="summary-section">
            <h5><i class="fas fa-cogs"></i> <span data-i18n="operations">Operations</span></h5>
            <div id="summaryOperations" class="summary-operations"></div>
          </div>
          <div class="summary-section">
            <h5><i class="fas fa-download"></i> <span data-i18n="output">Output</span></h5>
            <div id="summaryOutput" class="summary-output"></div>
          </div>
        </div>
      </div>
      
      <div class="conversion-progress" style="display: none;">
        <h4><i class="fas fa-spinner fa-spin"></i> <span data-i18n="converting">Converting...</span></h4>
        <div class="progress">
          <div id="progressBar" class="progress-bar" style="width: 0%">
            <span class="progress-text">0%</span>
          </div>
        </div>
        <div id="progressStatus" class="progress-status">
          <span data-i18n="preparing">Preparing conversion...</span>
        </div>
      </div>

      <div class="step-buttons">
        <button id="prevStep3" data-i18n="back">
          <i class="fas fa-arrow-left"></i> <span data-i18n="back">Back</span>
        </button>
        <button id="convertButton" data-i18n="convert_button" class="convert-btn">
          <i class="fas fa-magic"></i> <span data-i18n="convert_button">Convert</span>
        </button>
      </div>
    </div>

    <!-- Step 4: Thank You -->
    <div class="step-section" id="step-4">
      <div class="success-animation">
        <div class="checkmark-circle">
          <i class="fas fa-check"></i>
        </div>
      </div>
      <h2 class="step-title success-title">
        <span data-i18n="done">üéâ Conversion Complete!</span>
      </h2>
      <div class="success-content">
        <p data-i18n="thank_you">Thank you for using FileTools. Your files have been successfully converted!</p>
        <div class="success-actions">
          <a href="#" id="downloadLink" class="download-btn" style="display: none;">
            <i class="fas fa-download"></i> <span data-i18n="download">Download Files</span>
          </a>
          <button id="convertAnother" class="secondary-btn">
            <i class="fas fa-plus"></i> <span data-i18n="convert_another">Convert Another</span>
          </button>
        </div>
        <div class="support-links">
          <a href="/privacy" data-i18n="privacy_policy">
            <i class="fas fa-shield-alt"></i> Privacy Policy
          </a>
          <a href="https://www.buymeacoffee.com/yoavs5771" target="_blank" data-i18n="donate" class="donate-link">
            <i class="fas fa-coffee"></i> Buy me a coffee
          </a>
        </div>
      </div>
    </div>

    <!-- Enhanced Toast Message -->
    <div class="toast" id="toastBox">
      <div class="toast-icon">
        <i class="fas fa-exclamation-triangle"></i>
      </div>
      <div class="toast-content">
        <div class="toast-title">Error</div>
        <div class="toast-message">Something went wrong</div>
      </div>
      <button class="toast-close">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
      <div class="loading-content">
        <div class="loading-spinner">
          <div class="spinner"></div>
        </div>
        <h3 data-i18n="processing">Processing your files...</h3>
        <p data-i18n="please_wait">Please wait while we convert your files</p>
      </div>
    </div>

    <div class="footer">
      <div class="footer-content">
        <span data-i18n="created_by">v2.2 | Created with ‚ù§Ô∏è by Yoavs5771</span>
        <div class="footer-links">
          <a href="/privacy" data-i18n="privacy_policy">
            <i class="fas fa-shield-alt"></i> Privacy Policy
          </a>
          <a href="https://github.com/yoavs5771/FileToolsWeb" target="_blank">
            <i class="fab fa-github"></i> GitHub
          </a>
        </div>
      </div>
    </div>
  </div>

  <script src="/static/lang.js"></script>
  <script src="/static/script.js"></script>
</body>
</html>
